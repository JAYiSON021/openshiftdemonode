{"version":3,"sources":["../../../src/middlewares/errors/error_handler.js"],"names":["ErrorHandlerGG","err","req","res","next","console","error","JSON","stringify","path","route","date","Date","toString","xhr","status","json","send","module","exports"],"mappings":";;;;;;IAAMA,c;;;;;;;kCAESC,G,EAAKC,G,EAAKC,G,EAAKC,I,EAAM;AAC5BC,oBAAQC,KAAR,CAAc,EAACA,OAAOC,KAAKC,SAAL,CAAeP,GAAf,CAAR,EAA6BQ,MAAMP,IAAIQ,KAAJ,CAAUD,IAA7C,EAAmDE,MAAM,IAAIC,IAAJ,GAAWC,QAAX,EAAzD,EAAd;AACAT,iBAAKH,GAAL;AACH;;;2CAEmBA,G,EAAKC,G,EAAKC,G,EAAKC,I,EAAM;AACrC,gBAAIF,IAAIY,GAAR,EAAa;AACTX,oBAAIY,MAAJ,CAAWd,IAAIc,MAAJ,IAAc,GAAzB,EAA8BC,IAA9B,CAAmC,EAAEV,OAAO,mBAAT,EAAnC;AACH,aAFD,MAEO;AACHH,oBAAIY,MAAJ,CAAWd,IAAIc,MAAJ,IAAc,GAAzB,EAA8BE,IAA9B,CAAmChB,GAAnC;AACH;AACJ;;;;;;AAILiB,OAAOC,OAAP,GAAiB,IAAInB,cAAJ,EAAjB","file":"error_handler.js","sourcesContent":["class ErrorHandlerGG {\r\n\r\n    logErrors (err, req, res, next) {\r\n        console.error({error: JSON.stringify(err), path: req.route.path, date: new Date().toString()})\r\n        next(err)\r\n    }\r\n\r\n    clientErrorHandler (err, req, res, next) {\r\n        if (req.xhr) {\r\n            res.status(err.status || 400).json({ error: 'Something failed!' })\r\n        } else {\r\n            res.status(err.status || 400).send(err)\r\n        }\r\n    }\r\n\r\n}\r\n\r\nmodule.exports = new ErrorHandlerGG()"]}